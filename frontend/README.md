## Введение
Абдылдаев Нуршат
Этот проект — музыкальный сервис, построенный из трёх основных компонентов:
- Интерфейс пользователя
- Проигрыватель аудио
- Серверная часть (API + база данных)
    
Данная часть документации посвящена интерфейсу приложения — тому, что видит и с чем взаимодействует пользователь.

Интерфейс разработан с использованием библиотеки Qt. Это мощный фреймворк, позволяющий создавать современные пользовательские интерфейсы. Qt поддерживает как C++, так и Python, но в рамках данного проекта выбор сделан в пользу C++.

Qt предоставляет обширный набор готовых компонентов: от простых текстовых меток и кнопок до сложных окошек, навигационных панелей и кастомных виджетов.
Далее подробно опишу архитектуру UI, структуру классов и их взаимодействие.

## Общая архитектура
В проекте используется множество классов:
- AlbumListWidget - виджет (все виджеты в архитектуре наследуются от QWidget - виджет в Qt имеющий кучу полезных методов и аргументов), содержащий и отображающий список альбомов. Создает сетку из альбомов, регулирует их отображением. Содержит 2 сигнала - нажатие на альбом, нажатие на кнопку автора. При нажатии на сервер отправляется запрос альбома - требую его по id альбома и usertag пользователя, чтобы отобразить отношение (лайкнут альбом или нет).
- AlbumTrackButton - класс, наследующий от QPushButton (обыкновенная кнопка в Qt). Представляет собой виджет трека в виджете альбома, который так же является кнопкой - при нажатии проигрывается трек. Состоит из номера трека в альбоме, названия, автора и времени проигрывания. В методах здесь переписанная (override) реакция на двойной клик и несколько методов возвращающих поля трека для передачи сигналом на уровень выше. При двойном клике со стриминга скачивается трек. В проигрыватель отправляется запрос на проигрывание трека в виде пути к треку.
- AlbumWidget - виджет содержащий список треков, иначе говоря, - представляющий сам альбом. Состоит из шапки - обложки альбома, названия его, авторов, даты создания и длительности. Далее идет список треков - из AlbumTrackButton.
- CreateWidget - виджет создания и загрузки на платформу треков. Состоит из формы для файла обложки (jpg, png), описания, и, если это альбом, - названия. Далее кнопка "Add audio recording", которая позволяет выбрать файл (mp3) с устройства. Виджет трека является  TrackWidget.
- TrackWidget - виджет для отображения трека в момент создания альбома или сингла. Состоит из формы для названия, текста песни и кнопки addAuthor, нажав на которую можно выбрать авторов. После нажатия на кнопку "UPLOAD" данные отправляются в базу данных.
- AbsrtactTab - абстрактный класс виджета. Создает tab - главный виджет, помогающий в навигации. Из методов - возвращение индекса текущего tab и установка текущего tab. От него наследуются 3 класса -  HomeTab - виджет главного экрана, содержит списки альбомов(New relises, Recomendations, Random recomendations), CreateTab - виджет для создания треков, ProfileTab - просмотр своих альбомов и лайкнутых треков.
- LoginWindow - окно регистрации (или входа). Для регистрации понадобится ввести usertag, email, username и пароль, когда как для входа достаточно ввести email и пароль. 
- MusicMain - главное окно, вызывающее первым и содержащее все остальные виджеты.
- MyAlbumsWidget - список альбомов для отображения их в Profile и Home.
- MyTrackWidget - виджет списка треков.
- RightBarWidget - виджет, содержащий информацию о текущем треке. С нее можно перейти к альбому трека, перейти  к автору трека или же подписаться на автора, поставить лайк треку.
- UserProfileWidget - маленький виджет содержащий информацию о пользователе для отображения ее в Profile.
- UserListWidget - виджет списка пользователей. Нажав на кнопку пользователя откроется его профиль.
- WebSocketClient - создает вебсокет для связи с сервером и с проигрывателем.
Так же реализованы 3 структуры для удобной работы с данными:
- UserInfo - содержит информацию о пользователе - количество подписчиков, подписок, имя, usertag, ава.
- track - информация о треке: название, авторы, описание, текст песни, длительность.
- album - информация об альбоме: название, авторы, описание, список треков.
###  Используемые сторонние компоненты
Не совсем сторонние, так как это все равно Qt, но пришлось отдельно устанавливать.
- QNetworkAccessManager
    Используется для загрузки данных по URL. В проекте с его помощью осуществляется подгрузка обложек альбомов и треков в фоновом режиме без блокировки основного интерфейса. Это позволяет сделать пользовательский опыт более плавным — обложки появляются постепенно, по мере их загрузки.
    
- QWebSocket
    Используется для организации двусторонней коммуникации между клиентом и сервером по протоколу WebSocket. Через него реализована возможность получать данные в реальном времени и обрабатывать их на стороне интерфейса. Это особенно полезно для интерактивных функций сервиса, например, отображения обновлений или прогресса проигрывания трека.
### Стиль
В своей части я старался придерживаться принципов объектно-ориентированного программирования. Основные объекты такие как трек, альбом, виджет, кнопка трека, виджет альбома - я выделил в отдельные классы и структуры. Они содержат как поля, так и методы связанные с этими данными. В коде я использую абстрактный класс, что позволяет масштабировать код. Использование ООП позволяет как воспринимать код легче, так и делать его модульным.
Я так же активно использую передачу указателей при взаимодействии между разными частями программы, что позволило гибко управлять данными и объектами без копирования данных.
В качестве механизма между компонентами я использую сигналы. Что дает использовать гибкое взаимодействие между виджетами. Например, при нажатии на трек отправляется сигнал, который может обрабатываться в нескольких местах (в правой панели управления, в панели альбома и тд). Для связи с сервером и с исполняемым файлом проигрывателя я использую вебсокеты (WebSocket), через них приложение обменивается командами и данными с сервером в режиме реального времени, это дает своевремнно получать информацию о треках, альбоме, пользователях. По части проигрывателя вебсокеты позволяют легко и быстро воспроизводить и перематывать треки. 
В целом я старался держаться чистого и понятного кода, это было не так сложно благодаря принципам ООП и самой библиотеке Qt так как она позволяет легко и безболезненно работать с своими объектами, несмотря на язык (C++ - не фаворит мой среди языков, и дается с некоторой сложностью).
